version: "3.7"
services:
  test:
    image: tomcat:9-jdk13-openjdk-buster
    labels:
      - "traefik.http.routers.jol.entrypoints=websecure"
      - "traefik.http.routers.jol.rule=Host(`test.deckserver.net`)"
      - "traefik.http.routers.jol.tls.certresolver=myresolver"
    environment:
      JOL_DATA: /data
      JOL_VERSION: docker-version
      JOL_RECAPTCHA_KEY: ***REMOVED***
      JOL_RECAPTCHA_SECRET: ***REMOVED***
    ports:
      - 8080:8080
    volumes:
      - /home/shannon/Downloads/data:/data
      - ./target/jol.war:/usr/local/tomcat/webapps/jol.war
